/*! tmpl.js 0.9.0 */
!function(a){"use strict";var b,c,d,e,f,g,h,i=/^(\s*)([\w-]*)(\((.*)\))?(.*)$/,j=/\[([\w-]+)=?([^\]]*)\]/g,k=/([.#$])([\w-]+)/g,l=/(^|[^\\])\{(.*?[^\\])\}/g,m=["input","textarea"],n=a.isFunction,o=function(a,b){for(g=a.split(".").reverse();h=g.pop();)b=b[h];return b},p=function(g,h){a.isArray(g)||(g=[]),h=h||{};for(var p=a(),q=0,r=g.length,s=0,t={},u=function(a,b,c){var d=o(c,h);return n(d)&&(d=d.call(h)),d||0===d||(d=""),b+d};r>q;){var v=i.exec(g[q++]),w=v[2],x=v[5],y=!1,z=!1,A=[],B=(v[1].length+1)/4|0;if(w||x){if(v[3]&&n(h[w])&&(y=h[w].apply(h,v[4].split(",")),y instanceof a&&(z=y,y=y[0])),y&&1===y.nodeType||(y=document.createElement(w||"div")),B&&c){for(B>s&&(c=b);B<s--;)c=c.parentNode;c.appendChild(y)}else p.push(c=y);if(s=B,b=y,x){for(x=x.replace(j,function(a,b,c){return y.setAttribute(b,c||b),""}),d=x.indexOf(" "),-1!==d&&(e=x.substr(d+1).replace(l,u),x=x.substr(0,d),a.inArray(y.tagName.toLowerCase(),m)<0?y.innerHTML=e:y.value=e);v=k.exec(x);)switch(f=v[2],v[1]){case".":A.push(f);break;case"#":y.id=f;break;case"$":t[f]=z||a(y)}y.className&&A.push(y.className),A.length&&(y.className=A.join(" "))}}}return p.c=p.cache=t,p};a.extend({tmpl:p})}(jQuery);